<?xml version="1.0" encoding="utf-8"?>
<!--
    Odoo Portal Models
    Copyright (C) 2025 Odoo Box
-->
<odoo>
    <data>
        <!-- Employee Portal Home Page Template -->
        <template id="employee_portal_home" name="Employee Portal Home">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text only
                    document.addEventListener('DOMContentLoaded', function() {
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Logout Button - Top Right -->
                    <div class="row mb-3">
                        <div class="col-12 text-end">
                            <a href="/web/session/logout" class="btn btn-outline-danger" style="border-radius: 8px; padding: 0.5rem 1.5rem;">
                                <i class="fa fa-sign-out me-2"></i>Logout
                            </a>
                        </div>
                    </div>
                    
                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">Welcome to Employee Portal</h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                Hello, <strong><t t-esc="request.env.user.name"/></strong>! Access your employee resources and manage your information.
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <i class="fa fa-user-circle" style="font-size: 80px; opacity: 0.3;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Grid Menu Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <h3 class="mb-4" style="color: #333; font-weight: 600;">
                                <i class="fa fa-th-large text-primary me-2"></i>Quick Access
                            </h3>
                            <div class="row g-4">
                                <!-- TIME OFF Card -->
                                <div class="col-md-3 col-sm-6">
                                    <a href="/my/employee-portal/time-off" class="text-decoration-none menu-card-link">
                                        <div class="card border-0 shadow-lg h-100 menu-card" style="transition: all 0.3s ease; border-radius: 15px; overflow: hidden;">
                                            <div class="card-body text-center p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                                <div class="mb-3">
                                                    <div class="rounded-circle bg-white bg-opacity-20 d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px; backdrop-filter: blur(10px);">
                                                        <i class="fa fa-calendar-check-o text-white" style="font-size: 40px;"></i>
                                                    </div>
                                                </div>
                                                <h4 class="text-white mb-2" style="font-weight: 600; font-size: 1.3rem;">TIME OFF</h4>
                                                <p class="text-white mb-0" style="opacity: 0.9; font-size: 0.9rem;">Request and manage your leave</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <!-- PAYROLL Card -->
                                <div class="col-md-3 col-sm-6">
                                    <a href="/my/employee-portal/payroll" class="text-decoration-none menu-card-link">
                                        <div class="card border-0 shadow-lg h-100 menu-card" style="transition: all 0.3s ease; border-radius: 15px; overflow: hidden;">
                                            <div class="card-body text-center p-4" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                                <div class="mb-3">
                                                    <div class="rounded-circle bg-white bg-opacity-20 d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px; backdrop-filter: blur(10px);">
                                                        <i class="fa fa-money text-white" style="font-size: 40px;"></i>
                                                    </div>
                                                </div>
                                                <h4 class="text-white mb-2" style="font-weight: 600; font-size: 1.3rem;">PAYROLL</h4>
                                                <p class="text-white mb-0" style="opacity: 0.9; font-size: 0.9rem;">View your payslips and salary</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <!-- ATTENDANCE Card -->
                                <div class="col-md-3 col-sm-6">
                                    <a href="/my/employee-portal/attendance" class="text-decoration-none menu-card-link">
                                        <div class="card border-0 shadow-lg h-100 menu-card" style="transition: all 0.3s ease; border-radius: 15px; overflow: hidden;">
                                            <div class="card-body text-center p-4" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                                <div class="mb-3">
                                                    <div class="rounded-circle bg-white bg-opacity-20 d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px; backdrop-filter: blur(10px);">
                                                        <i class="fa fa-clock-o text-white" style="font-size: 40px;"></i>
                                                    </div>
                                                </div>
                                                <h4 class="text-white mb-2" style="font-weight: 600; font-size: 1.3rem;">ATTENDANCE</h4>
                                                <p class="text-white mb-0" style="opacity: 0.9; font-size: 0.9rem;">Check in/out and view records</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>

                                <!-- OVERTIME Card - Hidden -->

                                <!-- PROFILE Card -->
                                <div class="col-md-3 col-sm-6">
                                    <a href="/my/employee-portal/profile" class="text-decoration-none menu-card-link">
                                        <div class="card border-0 shadow-lg h-100 menu-card" style="transition: all 0.3s ease; border-radius: 15px; overflow: hidden;">
                                            <div class="card-body text-center p-4" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                                                <div class="mb-3">
                                                    <div class="rounded-circle bg-white bg-opacity-20 d-inline-flex align-items-center justify-content-center" style="width: 80px; height: 80px; backdrop-filter: blur(10px);">
                                                        <i class="fa fa-user-circle-o text-white" style="font-size: 40px;"></i>
                                                    </div>
                                                </div>
                                                <h4 class="text-white mb-2" style="font-weight: 600; font-size: 1.3rem;">PROFILE</h4>
                                                <p class="text-white mb-0" style="opacity: 0.9; font-size: 0.9rem;">View and manage your profile</p>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <style>
                    .hover-card:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
                    }
                    .menu-card {
                        cursor: pointer;
                    }
                    .menu-card:hover {
                        transform: translateY(-10px) scale(1.02);
                        box-shadow: 0 15px 35px rgba(0,0,0,0.2) !important;
                    }
                    .menu-card-link {
                        display: block;
                    }
                </style>
            </t>
        </template>

        <!-- Employee Profile Page Template -->
        <template id="employee_portal_profile" name="Employee Portal Profile">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text and user profile summary section
                    document.addEventListener('DOMContentLoaded', function() {
                        // Hide "My account" text
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Back Button -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <a href="/my/employee-portal" class="text-decoration-none">
                                <button class="btn btn-light border" style="border-radius: 8px;">
                                    <i class="fa fa-arrow-left me-2"></i>Back to Home
                                </button>
                            </a>
                        </div>
                    </div>

                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">My Profile</h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                <t t-if="employee">
                                                    View and manage your employee information
                                                </t>
                                                <t t-else="">
                                                    Your employee profile information
                                                </t>
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <t t-if="employee and employee.image_1920">
                                                <img t-attf-src="data:image/png;base64,{{employee.image_1920}}" 
                                                     alt="Profile Picture" 
                                                     class="rounded-circle" 
                                                     style="width: 120px; height: 120px; object-fit: cover; border: 4px solid rgba(255,255,255,0.3);"/>
                                            </t>
                                            <t t-else="">
                                                <i class="fa fa-user-circle" style="font-size: 80px; opacity: 0.3;"></i>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Employee Information Card with Tabs -->
                    <t t-if="employee">
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="card shadow-sm border-0">
                                    <div class="card-header bg-white border-bottom" style="padding: 1.5rem;">
                                        <h4 class="mb-0" style="color: #333; font-weight: 600;">
                                            <i class="fa fa-id-card text-primary me-2"></i>Employee Information
                                        </h4>
                                    </div>
                                    <div class="card-body p-4">
                                        <!-- Success/Error Messages -->
                                        <t t-if="success">
                                            <div class="alert alert-success alert-dismissible fade show" role="alert">
                                                <i class="fa fa-check-circle me-2"></i><t t-esc="success"/>
                                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                            </div>
                                        </t>
                                        <t t-if="error">
                                            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                                                <i class="fa fa-exclamation-circle me-2"></i><t t-esc="error"/>
                                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                            </div>
                                        </t>
                                        
                                        <!-- Tabs Navigation - Horizontal Beautiful Buttons -->
                                        <style>
                                            /* Professional Horizontal Tabs Styling */
                                            #profileTabs {
                                                display: flex;
                                                flex-direction: row;
                                                gap: 1rem;
                                                border: none;
                                                background: transparent;
                                                padding: 0;
                                                margin-bottom: 2rem;
                                                justify-content: flex-start;
                                                flex-wrap: wrap;
                                            }
                                            #profileTabs .nav-item {
                                                margin: 0;
                                                flex: 0 0 auto;
                                            }
                                            #profileTabs .nav-link {
                                                border: 2px solid #e9ecef;
                                                border-radius: 12px;
                                                padding: 1rem 2rem;
                                                font-weight: 600;
                                                font-size: 1rem;
                                                color: #6c757d;
                                                background: #ffffff;
                                                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                                                position: relative;
                                                display: flex;
                                                align-items: center;
                                                justify-content: center;
                                                min-width: 200px;
                                                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
                                                overflow: hidden;
                                            }
                                            #profileTabs .nav-link::before {
                                                content: '';
                                                position: absolute;
                                                top: 0;
                                                left: -100%;
                                                width: 100%;
                                                height: 100%;
                                                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
                                                transition: left 0.5s;
                                            }
                                            #profileTabs .nav-link:hover::before {
                                                left: 100%;
                                            }
                                            #profileTabs .nav-link:hover {
                                                color: #667eea;
                                                background: linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);
                                                border-color: #667eea;
                                                transform: translateY(-3px);
                                                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
                                            }
                                            #profileTabs .nav-link.active {
                                                color: #ffffff;
                                                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                                                border-color: #667eea;
                                                box-shadow: 0 8px 25px rgba(102, 126, 234, 0.35);
                                                transform: translateY(-3px);
                                            }
                                            #profileTabs .nav-link.active:hover {
                                                background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
                                                transform: translateY(-4px);
                                                box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
                                            }
                                            #profileTabs .nav-link i {
                                                margin-right: 0.75rem;
                                                font-size: 1.1rem;
                                                transition: transform 0.3s ease;
                                            }
                                            #profileTabs .nav-link:hover i {
                                                transform: scale(1.1);
                                            }
                                            #profileTabs .nav-link.active i {
                                                transform: scale(1.15);
                                            }
                                            .tab-content {
                                                animation: fadeIn 0.4s ease-in;
                                            }
                                            @keyframes fadeIn {
                                                from {
                                                    opacity: 0;
                                                    transform: translateY(15px);
                                                }
                                                to {
                                                    opacity: 1;
                                                    transform: translateY(0);
                                                }
                                            }
                                            /* Responsive design */
                                            @media (max-width: 768px) {
                                                #profileTabs {
                                                    flex-direction: column;
                                                }
                                                #profileTabs .nav-link {
                                                    width: 100%;
                                                    min-width: auto;
                                                }
                                            }
                                        </style>
                                        <ul class="nav nav-tabs mb-4" id="profileTabs" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button" role="tab">
                                                    <i class="fa fa-user"></i>
                                                    <span>Basic Information</span>
                                                </button>
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <!-- Certificate Information tab removed - custom fields not in default Odoo -->
                                            </li>
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link" id="private-tab" data-bs-toggle="tab" data-bs-target="#private" type="button" role="tab">
                                                    <i class="fa fa-lock"></i>
                                                    <span>Private Information</span>
                                                </button>
                                            </li>
                                        </ul>
                                        
                                        <!-- Tab Content -->
                                        <div class="tab-content" id="profileTabsContent">
                                            <!-- Basic Information Tab -->
                                            <div class="tab-pane fade show active" id="basic" role="tabpanel">
                                                <form method="post" action="/my/employee-portal/profile" enctype="multipart/form-data">
                                            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                            
                                            <!-- Profile Image Upload -->
                                            <div class="row mb-4">
                                                <div class="col-12">
                                                    <div class="text-center">
                                                        <div class="mb-3">
                                                            <t t-if="employee and employee.image_1920">
                                                                <img t-attf-src="data:image/png;base64,{{employee.image_1920}}" 
                                                                     alt="Profile Picture" 
                                                                     id="profile_image_preview"
                                                                     class="rounded-circle" 
                                                                     style="width: 150px; height: 150px; object-fit: cover; border: 4px solid #e9ecef; cursor: pointer;"/>
                                                            </t>
                                                            <t t-else="">
                                                                <div id="profile_image_preview" 
                                                                     class="rounded-circle bg-light d-inline-flex align-items-center justify-content-center" 
                                                                     style="width: 150px; height: 150px; border: 4px solid #e9ecef; cursor: pointer;">
                                                                    <i class="fa fa-user-circle" style="font-size: 80px; color: #ccc;"></i>
                                                                </div>
                                                            </t>
                                                        </div>
                                                        <label for="image_1920" class="btn btn-outline-primary" style="border-radius: 8px; cursor: pointer;">
                                                            <i class="fa fa-camera me-2"></i>Change Photo
                                                        </label>
                                                        <input type="file" 
                                                               id="image_1920" 
                                                               name="image_1920" 
                                                               accept="image/*" 
                                                               style="display: none;"
                                                               onchange="previewImage(this)"/>
                                                        <p class="text-muted mt-2 mb-0" style="font-size: 0.85rem;">Click to upload a new profile picture</p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-user text-primary"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3">
                                                            <h6 class="mb-1 text-muted" style="font-size: 0.85rem; text-transform: uppercase;">Full Name</h6>
                                                            <p class="mb-0" style="font-size: 1.1rem; font-weight: 500;"><t t-esc="employee.name"/></p>
                                                            <small class="text-muted">(Read-only)</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-briefcase text-success"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3">
                                                            <h6 class="mb-1 text-muted" style="font-size: 0.85rem; text-transform: uppercase;">Job Title</h6>
                                                            <p class="mb-0" style="font-size: 1.1rem; font-weight: 500;">
                                                                <t t-esc="employee.job_id.name if employee.job_id else 'N/A'"/>
                                                            </p>
                                                            <small class="text-muted">(Read-only)</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-building text-info"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3">
                                                            <h6 class="mb-1 text-muted" style="font-size: 0.85rem; text-transform: uppercase;">Department</h6>
                                                            <p class="mb-0" style="font-size: 1.1rem; font-weight: 500;">
                                                                <t t-esc="employee.department_id.name if employee.department_id else 'N/A'"/>
                                                            </p>
                                                            <small class="text-muted">(Read-only)</small>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-envelope text-warning"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3" style="width: 100%;">
                                                            <label for="work_email" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Work Email</label>
                                                            <input type="email" class="form-control" id="work_email" name="work_email" 
                                                                   t-att-value="employee.work_email or ''" 
                                                                   placeholder="Enter work email" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-phone text-danger"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3" style="width: 100%;">
                                                            <label for="work_phone" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Work Phone</label>
                                                            <input type="tel" class="form-control" id="work_phone" name="work_phone" 
                                                                   t-att-value="employee.work_phone or ''" 
                                                                   placeholder="Enter work phone" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-mobile text-primary"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3" style="width: 100%;">
                                                            <label for="mobile_phone" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Mobile Phone</label>
                                                            <input type="tel" class="form-control" id="mobile_phone" name="mobile_phone" 
                                                                   t-att-value="employee.mobile_phone or ''" 
                                                                   placeholder="Enter mobile phone" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <div class="d-flex align-items-start">
                                                        <div class="flex-shrink-0">
                                                            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                <i class="fa fa-envelope-o text-secondary"></i>
                                                            </div>
                                                        </div>
                                                        <div class="flex-grow-1 ms-3" style="width: 100%;">
                                                            <label for="private_email" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Private Email</label>
                                                            <input type="email" class="form-control" id="private_email" name="private_email" 
                                                                   t-att-value="safe_get_field(employee, 'private_email', '')" 
                                                                   placeholder="Enter private email" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                <div class="col-12 mt-3">
                                                    <button type="submit" class="btn btn-primary" style="border-radius: 8px; padding: 0.75rem 2rem; font-weight: 600;">
                                                        <i class="fa fa-save me-2"></i>Save Changes
                                                    </button>
                                                </div>
                                            </div>
                                        </form>
                                            </div>
                                            
                                            <!-- Certificate Information Tab - Removed (custom fields not in default Odoo) -->
                                            <div class="tab-pane fade" id="certificate" role="tabpanel">
                                                <div class="alert alert-info">
                                                    <p>Certificate Information section has been removed as it contains custom fields not available in default Odoo.</p>
                                                </div>
                                            </div>
                                            
                                            <!-- Private Information Tab -->
                                            <div class="tab-pane fade" id="private" role="tabpanel">
                                                <form method="post" action="/my/employee-portal/profile" enctype="multipart/form-data">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                    
                                                    <div class="row">
                                                        <!-- Private Contact Section -->
                                                        <div class="col-12 mb-3">
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Private Contact</h6>
                                                        </div>
                                                        <div class="col-12 mb-3">
                                                            <label for="private_street" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Private Address</label>
                                                            <input type="text" class="form-control mb-2" id="private_street" name="private_street" 
                                                                   t-att-value="safe_get_field(employee, 'private_street', '')" 
                                                                   placeholder="Street..." 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                            <input type="text" class="form-control mb-2" id="private_street2" name="private_street2" 
                                                                   t-att-value="employee.private_street2 or ''" 
                                                                   placeholder="Street 2..." 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                            <div class="row">
                                                                <div class="col-md-4 mb-2">
                                                                    <input type="text" class="form-control" id="private_city" name="private_city" 
                                                                           t-att-value="safe_get_field(employee, 'private_city', '')" 
                                                                           placeholder="City" 
                                                                           style="border-radius: 8px; padding: 0.75rem;"/>
                                                                </div>
                                                                <div class="col-md-4 mb-2">
                                                                    <input type="text" class="form-control" id="private_state" name="private_state" 
                                                                           t-att-value="employee.private_state_id.name if employee.private_state_id else ''" 
                                                                           placeholder="State" 
                                                                           style="border-radius: 8px; padding: 0.75rem;"/>
                                                                </div>
                                                                <div class="col-md-2 mb-2">
                                                                    <input type="text" class="form-control" id="private_zip" name="private_zip" 
                                                                           t-att-value="safe_get_field(employee, 'private_zip', '')" 
                                                                           placeholder="ZIP" 
                                                                           style="border-radius: 8px; padding: 0.75rem;"/>
                                                                </div>
                                                                <div class="col-md-2 mb-2">
                                                                    <input type="text" class="form-control" id="private_country" name="private_country" 
                                                                           t-att-value="employee.private_country_id.name if employee.private_country_id else ''" 
                                                                           placeholder="Country" 
                                                                           style="border-radius: 8px; padding: 0.75rem;"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="private_email_private" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Email</label>
                                                            <input type="email" class="form-control" id="private_email_private" name="private_email" 
                                                                   t-att-value="safe_get_field(employee, 'private_email', '')" 
                                                                   placeholder="Enter private email" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="private_phone" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Phone</label>
                                                            <input type="tel" class="form-control" id="private_phone" name="private_phone" 
                                                                   t-att-value="safe_get_field(employee, 'private_phone', '')" 
                                                                   placeholder="Enter private phone" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="bank_account_id" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">
                                                                Bank Account Number? <i class="fa fa-question-circle text-primary" style="font-size: 0.75rem;"></i>
                                                            </label>
                                                            <input type="text" class="form-control" id="bank_account_id" name="bank_account_id" 
                                                                   t-att-value="employee.bank_account_id.acc_number if employee.bank_account_id else ''" 
                                                                   placeholder="Enter bank account number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="lang" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Language</label>
                                                            <input type="text" class="form-control" id="lang" name="lang" 
                                                                   t-att-value="safe_get_field(employee, 'lang', '')" 
                                                                   placeholder="Enter language" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="km_home_work" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Home-Work Distance</label>
                                                            <input type="number" class="form-control" id="km_home_work" name="km_home_work" 
                                                                   t-att-value="safe_get_field(employee, 'km_home_work', 0)" 
                                                                   placeholder="0" 
                                                                   step="0.1"
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                            <small class="text-muted">Km</small>
                                                        </div>
                                                        
                                                        <!-- Family Status Section -->
                                                        <div class="col-12 mt-4 mb-3">
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Family Status</h6>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="marital" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Marital Status</label>
                                                            <select class="form-control" id="marital" name="marital" style="border-radius: 8px; padding: 0.75rem;">
                                                                <option value="">Select...</option>
                                                                <option value="single" t-att-selected="'selected' if employee.marital == 'single' else ''">Single</option>
                                                                <option value="married" t-att-selected="'selected' if employee.marital == 'married' else ''">Married</option>
                                                                <option value="cohabitant" t-att-selected="'selected' if employee.marital == 'cohabitant' else ''">Legal Cohabitant</option>
                                                                <option value="widower" t-att-selected="'selected' if employee.marital == 'widower' else ''">Widower</option>
                                                                <option value="divorced" t-att-selected="'selected' if employee.marital == 'divorced' else ''">Divorced</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="children" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Number of Dependent Children</label>
                                                            <input type="number" class="form-control" id="children" name="children" 
                                                                   t-att-value="employee.children or 0" 
                                                                   placeholder="0" 
                                                                   min="0"
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        
                                                        <!-- Emergency Section -->
                                                        <div class="col-12 mt-4 mb-3">
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Emergency</h6>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="emergency_contact" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Contact Name</label>
                                                            <input type="text" class="form-control" id="emergency_contact" name="emergency_contact" 
                                                                   t-att-value="employee.emergency_contact or ''" 
                                                                   placeholder="Enter emergency contact name" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="emergency_phone" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Contact Phone</label>
                                                            <input type="tel" class="form-control" id="emergency_phone" name="emergency_phone" 
                                                                   t-att-value="employee.emergency_phone or ''" 
                                                                   placeholder="Enter emergency contact phone" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        
                                                        <!-- Education Section -->
                                                        <div class="col-12 mt-4 mb-3">
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Education</h6>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="certificate_level" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Certificate Level</label>
                                                            <select class="form-control" id="certificate_level" name="certificate_level" style="border-radius: 8px; padding: 0.75rem;">
                                                                <option value="">Select...</option>
                                                                <option value="graduate" t-att-selected="'selected' if employee.certificate == 'graduate' else ''">Graduate</option>
                                                                <option value="bachelor" t-att-selected="'selected' if employee.certificate == 'bachelor' else ''">Bachelor</option>
                                                                <option value="master" t-att-selected="'selected' if employee.certificate == 'master' else ''">Master</option>
                                                                <option value="doctor" t-att-selected="'selected' if employee.certificate == 'doctor' else ''">Doctor</option>
                                                                <option value="other" t-att-selected="'selected' if employee.certificate == 'other' else ''">Other</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="study_field" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Field of Study</label>
                                                            <input type="text" class="form-control" id="study_field" name="study_field" 
                                                                   t-att-value="safe_get_field(employee, 'study_field', '')" 
                                                                   placeholder="Enter field of study" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="study_school" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">School</label>
                                                            <input type="text" class="form-control" id="study_school" name="study_school" 
                                                                   t-att-value="safe_get_field(employee, 'study_school', '')" 
                                                                   placeholder="Enter school name" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        
                                                        <!-- Citizenship Section -->
                                                        <div class="col-12 mt-4 mb-3">
                                                            <hr style="border-top: 1px solid #e9ecef; margin: 1rem 0;"/>
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Citizenship</h6>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="country_id" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Nationality (Country)</label>
                                                            <input type="text" class="form-control" id="country_id" name="country_id" 
                                                                   t-att-value="employee.country_id.name if employee.country_id else ''" 
                                                                   placeholder="Enter nationality" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="identification_id" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Identification No</label>
                                                            <input type="text" class="form-control" id="identification_id" name="identification_id" 
                                                                   t-att-value="employee.identification_id or ''" 
                                                                   placeholder="Enter identification number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="ssnid" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">
                                                                SSN No? <i class="fa fa-question-circle text-primary" style="font-size: 0.75rem;"></i>
                                                            </label>
                                                            <input type="text" class="form-control" id="ssnid" name="ssnid" 
                                                                   t-att-value="safe_get_field(employee, 'ssnid', '')" 
                                                                   placeholder="Enter SSN number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="passport_id" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Passport No</label>
                                                            <input type="text" class="form-control" id="passport_id" name="passport_id" 
                                                                   t-att-value="employee.passport_id or ''" 
                                                                   placeholder="Enter passport number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="gender" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Gender</label>
                                                            <select class="form-control" id="gender" name="gender" style="border-radius: 8px; padding: 0.75rem;">
                                                                <option value="">Select...</option>
                                                                <option value="male" t-att-selected="'selected' if employee.gender == 'male' else ''">Male</option>
                                                                <option value="female" t-att-selected="'selected' if employee.gender == 'female' else ''">Female</option>
                                                                <option value="other" t-att-selected="'selected' if employee.gender == 'other' else ''">Other</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="birthday" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Date of Birth</label>
                                                            <input type="date" class="form-control" id="birthday" name="birthday" 
                                                                   t-att-value="employee.birthday or ''" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="place_of_birth" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Place of Birth</label>
                                                            <input type="text" class="form-control" id="place_of_birth" name="place_of_birth" 
                                                                   t-att-value="employee.place_of_birth or ''" 
                                                                   placeholder="Enter place of birth" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="country_of_birth" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Country of Birth</label>
                                                            <input type="text" class="form-control" id="country_of_birth" name="country_of_birth" 
                                                                   t-att-value="employee.country_of_birth.name if employee.country_of_birth else ''" 
                                                                   placeholder="Enter country of birth" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">
                                                                Non-resident? <i class="fa fa-question-circle text-primary" style="font-size: 0.75rem;"></i>
                                                            </label>
                                                            <div class="form-check mt-2">
                                                                <input class="form-check-input" type="checkbox" id="is_non_resident" name="is_non_resident" 
                                                                       t-att-checked="'checked' if safe_get_field(employee, 'is_non_resident', False) else ''"
                                                                       style="width: 20px; height: 20px; cursor: pointer;"/>
                                                                <label class="form-check-label" for="is_non_resident" style="margin-left: 0.5rem; cursor: pointer;">
                                                                    Non-resident
                                                                </label>
                                                            </div>
                                                        </div>
                                                        
                                                        <!-- Work Permit Section -->
                                                        <div class="col-12 mt-4 mb-3">
                                                            <hr style="border-top: 1px solid #e9ecef; margin: 1rem 0;"/>
                                                            <h6 class="mb-3" style="color: #495057; font-weight: 600; text-transform: uppercase; font-size: 0.9rem;">Work Permit</h6>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="visa_no" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Visa No</label>
                                                            <input type="text" class="form-control" id="visa_no" name="visa_no" 
                                                                   t-att-value="safe_get_field(employee, 'visa_no', '')" 
                                                                   placeholder="Enter visa number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="work_permit_no" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Work Permit No</label>
                                                            <input type="text" class="form-control" id="work_permit_no" name="work_permit_no" 
                                                                   t-att-value="safe_get_field(employee, 'permit_no', '')" 
                                                                   placeholder="Enter work permit number" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="visa_expire" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Visa Expiration Date</label>
                                                            <input type="date" class="form-control" id="visa_expire" name="visa_expire" 
                                                                   t-att-value="safe_get_field(employee, 'visa_expire', '')" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="work_permit_expiration_date" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Work Permit Expiration Date</label>
                                                            <input type="date" class="form-control" id="work_permit_expiration_date" name="work_permit_expiration_date" 
                                                                   t-att-value="safe_get_field(employee, 'work_permit_expiration_date', '')" 
                                                                   style="border-radius: 8px; padding: 0.75rem;"/>
                                                        </div>
                                                        <div class="col-md-6 mb-3">
                                                            <label for="work_permit_attachment" class="form-label mb-1" style="font-size: 0.85rem; text-transform: uppercase; color: #6c757d;">Work Permit</label>
                                                            <div>
                                                                <label for="work_permit_attachment" class="btn btn-outline-primary" style="border-radius: 8px; cursor: pointer; width: 100%;">
                                                                    <i class="fa fa-upload me-2"></i>Upload your file
                                                                </label>
                                                                <input type="file" id="work_permit_attachment" name="work_permit_attachment" style="display: none;"/>
                                                                <t t-if="employee.work_permit_name">
                                                                    <p class="text-muted mt-2 mb-0" style="font-size: 0.85rem;">
                                                                        <i class="fa fa-file-o me-1"></i><t t-esc="employee.work_permit_name"/>
                                                                    </p>
                                                                </t>
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-12 mt-3">
                                                            <button type="submit" class="btn btn-primary" style="border-radius: 8px; padding: 0.75rem 2rem; font-weight: 600;">
                                                                <i class="fa fa-save me-2"></i>Save Changes
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                    
                    <!-- Read-only Information -->
                    <t t-if="employee">
                        <div class="row mb-4">
                            <div class="col-12">
                                <div class="card shadow-sm border-0">
                                    <div class="card-body p-4">
                                        <h5 class="mb-3" style="color: #333; font-weight: 600;">Additional Information</h5>
                                        <div class="row">
                                            <t t-if="employee.contract_ids">
                                                <t t-set="active_contract" t-value="employee.contract_ids.filtered(lambda c: c.state == 'open')[:1]"/>
                                                <t t-if="active_contract and active_contract.date_start">
                                                    <div class="col-md-6 mb-3">
                                                        <div class="d-flex align-items-start">
                                                            <div class="flex-shrink-0">
                                                                <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 50px; height: 50px;">
                                                                    <i class="fa fa-calendar text-secondary"></i>
                                                                </div>
                                                            </div>
                                                            <div class="flex-grow-1 ms-3">
                                                                <h6 class="mb-1 text-muted" style="font-size: 0.85rem; text-transform: uppercase;">Contract Start Date</h6>
                                                                <p class="mb-0" style="font-size: 1.1rem; font-weight: 500;">
                                                                    <t t-esc="active_contract.date_start"/>
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </t>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                    
                    <script>
                        function previewImage(input) {
                            if (input.files &amp;&amp; input.files[0]) {
                                var reader = new FileReader();
                                reader.onload = function(e) {
                                    var preview = document.getElementById('profile_image_preview');
                                    if (preview.tagName === 'IMG') {
                                        preview.src = e.target.result;
                                    } else {
                                        // Replace div with img
                                        var img = document.createElement('img');
                                        img.id = 'profile_image_preview';
                                        img.className = 'rounded-circle';
                                        img.src = e.target.result;
                                        img.style.cssText = 'width: 150px; height: 150px; object-fit: cover; border: 4px solid #e9ecef; cursor: pointer;';
                                        preview.parentNode.replaceChild(img, preview);
                                    }
                                };
                                reader.readAsDataURL(input.files[0]);
                            }
                        }
                        
                        // Handle file input clicks for all upload buttons
                        document.addEventListener('DOMContentLoaded', function() {
                            var fileInputs = ['work_permit_attachment'];
                            
                            fileInputs.forEach(function(inputId) {
                                var input = document.getElementById(inputId);
                                if (input) {
                                    // Find label with matching 'for' attribute
                                    var label = document.querySelector('label[for="' + inputId + '"]');
                                    if (label) {
                                        label.addEventListener('click', function(e) {
                                            e.preventDefault();
                                            input.click();
                                        });
                                    }
                                    
                                    // Show file name when file is selected
                                    input.addEventListener('change', function(e) {
                                        var file = e.target.files[0];
                                        if (file) {
                                            // Find or create file name display element
                                            var fileNameDisplay = input.parentElement.querySelector('.file-name-display');
                                            if (!fileNameDisplay) {
                                                fileNameDisplay = document.createElement('p');
                                                fileNameDisplay.className = 'text-muted mt-2 mb-0 file-name-display';
                                                fileNameDisplay.style.fontSize = '0.85rem';
                                                input.parentElement.appendChild(fileNameDisplay);
                                            }
                                            fileNameDisplay.innerHTML = '<i class="fa fa-file-o me-1"></i>' + file.name;
                                            fileNameDisplay.style.display = 'block';
                                        }
                                    });
                                }
                            });
                            
                            // Initialize Bootstrap tabs if available
                            if (typeof bootstrap !== 'undefined' &amp;&amp; bootstrap.Tab) {
                                var triggerTabList = [].slice.call(document.querySelectorAll('#profileTabs button'));
                                triggerTabList.forEach(function (triggerEl) {
                                    var tabTrigger = new bootstrap.Tab(triggerEl);
                                    triggerEl.addEventListener('click', function (event) {
                                        event.preventDefault();
                                        tabTrigger.show();
                                    });
                                });
                            } else {
                                // Fallback: Simple tab switching without Bootstrap
                                var tabButtons = document.querySelectorAll('#profileTabs button');
                                var tabPanes = document.querySelectorAll('.tab-pane');
                                
                                tabButtons.forEach(function(button) {
                                    button.addEventListener('click', function(e) {
                                        e.preventDefault();
                                        var targetId = this.getAttribute('data-bs-target') || this.getAttribute('data-target');
                                        if (targetId) {
                                            // Remove active class from all tabs and panes
                                            tabButtons.forEach(function(btn) {
                                                btn.classList.remove('active');
                                                btn.style.borderBottom = 'none';
                                                btn.style.color = '#6c757d';
                                            });
                                            tabPanes.forEach(function(pane) {
                                                pane.classList.remove('show', 'active');
                                            });
                                            
                                            // Add active class to clicked tab
                                            this.classList.add('active');
                                            this.style.borderBottom = '3px solid #667eea';
                                            this.style.color = '#667eea';
                                            
                                            // Show corresponding pane
                                            var targetPane = document.querySelector(targetId);
                                            if (targetPane) {
                                                targetPane.classList.add('show', 'active');
                                            }
                                        }
                                    });
                                });
                            }
                        });
                    </script>
                </div>

                <style>
                    .hover-card:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
                    }
                </style>
            </t>
        </template>

        <!-- Employee Time Off Page Template -->
        <template id="employee_portal_time_off" name="Employee Portal Time Off">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text and user profile summary section
                    document.addEventListener('DOMContentLoaded', function() {
                        // Hide "My account" text
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Back Button -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <a href="/my/employee-portal" class="text-decoration-none">
                                <button class="btn btn-light border" style="border-radius: 8px;">
                                    <i class="fa fa-arrow-left me-2"></i>Back to Home
                                </button>
                            </a>
                        </div>
                    </div>

                    <!-- Success/Error Messages -->
                    <t t-if="request.params.get('created') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-check-circle me-2"></i>Leave request created successfully!
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('canceled') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-check-circle me-2"></i>Leave request canceled successfully!
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('error') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-exclamation-circle me-2"></i>An error occurred while processing your request.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('error') == '2'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-exclamation-triangle me-2"></i>This leave request cannot be canceled as it has already been approved or refused.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>

                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">
                                                <i class="fa fa-calendar-check-o me-2"></i>Time Off Requests
                                            </h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                View and manage your leave requests
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <i class="fa fa-calendar" style="font-size: 80px; opacity: 0.3;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Time Off Requests Table -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-header bg-white border-bottom" style="padding: 1.5rem;">
                                    <div class="d-flex justify-content-between align-items-center">
                                        <h4 class="mb-0" style="color: #333; font-weight: 600;">
                                            <i class="fa fa-list text-primary me-2"></i>My Leave Requests
                                        </h4>
                                        <a href="/my/employee-portal/time-off/create" class="btn btn-primary" style="border-radius: 8px;">
                                            <i class="fa fa-plus me-2"></i>Create New Request
                                        </a>
                                    </div>
                                </div>
                                <div class="card-body p-0">
                                    <t t-if="leave_requests">
                                        <div class="table-responsive">
                                            <table class="table table-hover mb-0">
                                                <thead style="background-color: #f8f9fa;">
                                                    <tr>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Leave Type</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">From Date</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">To Date</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Duration</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Status</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Request Date</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333; text-align: center;">Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="leave_requests" t-as="leave">
                                                        <tr style="border-bottom: 1px solid #e9ecef;">
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="rounded-circle bg-primary bg-opacity-10 d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                                                        <i class="fa fa-calendar text-primary"></i>
                                                                    </div>
                                                                    <div>
                                                                        <strong style="color: #333;"><t t-esc="leave.holiday_status_id.name if leave.holiday_status_id else 'N/A'"/></strong>
                                                                        <br/>
                                                                        <small class="text-muted" t-if="leave.name"><t t-esc="leave.name"/></small>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span style="color: #333; font-weight: 500;">
                                                                    <t t-if="leave.date_from">
                                                                        <t t-esc="leave.date_from"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span style="color: #333; font-weight: 500;">
                                                                    <t t-if="leave.date_to">
                                                                        <t t-esc="leave.date_to"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span class="badge bg-info" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
                                                                    <t t-if="leave.number_of_days">
                                                                        <t t-esc="str(int(leave.number_of_days)) + ' day(s)'"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <t t-if="leave.state == 'draft'">
                                                                    <span class="badge bg-secondary" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Draft</span>
                                                                </t>
                                                                <t t-elif="leave.state == 'confirm'">
                                                                    <span class="badge bg-warning" style="font-size: 0.9rem; padding: 0.5rem 1rem;">To Approve</span>
                                                                </t>
                                                                <t t-elif="leave.state == 'validate'">
                                                                    <span class="badge bg-success" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Approved</span>
                                                                </t>
                                                                <t t-elif="leave.state == 'refuse'">
                                                                    <span class="badge bg-danger" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Refused</span>
                                                                </t>
                                                                <t t-else="">
                                                                    <span class="badge bg-secondary" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
                                                                        <t t-esc="leave.state or 'N/A'"/>
                                                                    </span>
                                                                </t>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <small class="text-muted">
                                                                    <t t-if="leave.create_date">
                                                                        <t t-esc="leave.create_date"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </small>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle; text-align: center;">
                                                                <t t-if="leave.state in ['draft', 'confirm']">
                                                                    <form method="post" action="/my/employee-portal/time-off/cancel" style="display: inline;">
                                                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                                        <input type="hidden" name="leave_id" t-att-value="leave.id"/>
                                                                        <button type="submit" class="btn btn-sm btn-danger" style="border-radius: 6px;" onclick="return confirm('Are you sure you want to cancel this leave request?');">
                                                                            <i class="fa fa-times me-1"></i>Cancel
                                                                        </button>
                                                                    </form>
                                                                </t>
                                                                <t t-else="">
                                                                    <span class="text-muted" style="font-size: 0.85rem;">No actions available</span>
                                                                </t>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </tbody>
                                            </table>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="text-center p-5">
                                            <i class="fa fa-calendar-times-o" style="font-size: 60px; color: #ccc; margin-bottom: 1rem;"></i>
                                            <p class="text-muted mb-0" style="font-size: 1.1rem;">No leave requests found</p>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <style>
                    .table tbody tr:hover {
                        background-color: #f8f9fa;
                        transition: background-color 0.2s ease;
                    }
                </style>
            </t>
        </template>

        <!-- Employee Time Off Create Page Template -->
        <template id="employee_portal_time_off_create" name="Employee Portal Time Off Create">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text and user profile summary section
                    document.addEventListener('DOMContentLoaded', function() {
                        // Hide "My account" text
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Back Button -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <a href="/my/employee-portal/time-off" class="text-decoration-none">
                                <button class="btn btn-light border" style="border-radius: 8px;">
                                    <i class="fa fa-arrow-left me-2"></i>Back to Time Off
                                </button>
                            </a>
                        </div>
                    </div>

                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">
                                                <i class="fa fa-plus-circle me-2"></i>Create Leave Request
                                            </h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                Submit a new time off request
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <i class="fa fa-calendar-plus-o" style="font-size: 80px; opacity: 0.3;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Error Message -->
                    <t t-if="error">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="border-radius: 8px; border-left: 4px solid #dc3545;">
                                    <div class="d-flex align-items-start">
                                        <div class="flex-shrink-0">
                                            <i class="fa fa-exclamation-triangle" style="font-size: 1.5rem; margin-top: 0.25rem;"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="alert-heading mb-2" style="font-weight: 600;">Error</h5>
                                            <p class="mb-0" style="font-size: 1rem;"><t t-esc="error"/></p>
                                        </div>
                                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close" style="margin-top: 0.25rem;"></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>

                    <!-- Create Leave Request Form -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-header bg-white border-bottom" style="padding: 1.5rem;">
                                    <h4 class="mb-0" style="color: #333; font-weight: 600;">
                                        <i class="fa fa-edit text-primary me-2"></i>Leave Request Details
                                    </h4>
                                </div>
                                <div class="card-body p-4">
                                    <form method="post" action="/my/employee-portal/time-off/create">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <div class="row">
                                            <!-- Leave Type -->
                                            <div class="col-md-6 mb-3">
                                                <label for="holiday_status_id" class="form-label" style="font-weight: 600; color: #333;">
                                                    Leave Type <span class="text-danger">*</span>
                                                </label>
                                                <select class="form-select" id="holiday_status_id" name="holiday_status_id" required="required" style="border-radius: 8px; padding: 0.75rem;">
                                                    <option value="">-- Select Leave Type --</option>
                                                    <t t-foreach="leave_types" t-as="leave_type">
                                                        <option t-att-value="leave_type.id">
                                                            <t t-esc="leave_type.name"/>
                                                        </option>
                                                    </t>
                                                </select>
                                            </div>

                                            <!-- From Date -->
                                            <div class="col-md-6 mb-3">
                                                <label for="date_from" class="form-label" style="font-weight: 600; color: #333;">
                                                    From Date <span class="text-danger">*</span>
                                                </label>
                                                <input type="date" class="form-control" id="date_from" name="date_from" required="required" style="border-radius: 8px; padding: 0.75rem;"/>
                                            </div>

                                            <!-- To Date -->
                                            <div class="col-md-6 mb-3">
                                                <label for="date_to" class="form-label" style="font-weight: 600; color: #333;">
                                                    To Date <span class="text-danger">*</span>
                                                </label>
                                                <input type="date" class="form-control" id="date_to" name="date_to" required="required" style="border-radius: 8px; padding: 0.75rem;"/>
                                            </div>

                                            <!-- Half Day Option -->
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label" style="font-weight: 600; color: #333;">Half Day</label>
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" id="request_unit_half" name="request_unit_half" value="1" style="cursor: pointer;"/>
                                                    <label class="form-check-label" for="request_unit_half" style="cursor: pointer;">
                                                        Request half day
                                                    </label>
                                                </div>
                                                <div id="half_day_period" style="display: none; margin-top: 0.5rem;">
                                                    <select class="form-select" name="request_date_from_period" style="border-radius: 8px; padding: 0.75rem;">
                                                        <option value="am">Morning (AM)</option>
                                                        <option value="pm">Afternoon (PM)</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- Description -->
                                            <div class="col-12 mb-3">
                                                <label for="name" class="form-label" style="font-weight: 600; color: #333;">
                                                    Description
                                                </label>
                                                <textarea class="form-control" id="name" name="name" rows="4" placeholder="Enter reason for leave request..." style="border-radius: 8px; padding: 0.75rem;"></textarea>
                                            </div>

                                            <!-- Submit Buttons -->
                                            <div class="col-12">
                                                <div class="d-flex justify-content-end gap-2">
                                                    <a href="/my/employee-portal/time-off" class="btn btn-light border" style="border-radius: 8px;">
                                                        <i class="fa fa-times me-2"></i>Cancel
                                                    </a>
                                                    <button type="submit" class="btn btn-primary" style="border-radius: 8px;">
                                                        <i class="fa fa-check me-2"></i>Submit Request
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    // Show/hide half day period selector
                    document.getElementById('request_unit_half').addEventListener('change', function() {
                        var periodDiv = document.getElementById('half_day_period');
                        if (this.checked) {
                            periodDiv.style.display = 'block';
                        } else {
                            periodDiv.style.display = 'none';
                        }
                    });
                </script>
            </t>
        </template>

        <!-- Employee Attendance Page Template -->
        <template id="employee_portal_attendance" name="Employee Portal Attendance">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text and user profile summary section
                    document.addEventListener('DOMContentLoaded', function() {
                        // Hide "My account" text
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Back Button -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <a href="/my/employee-portal" class="text-decoration-none">
                                <button class="btn btn-light border" style="border-radius: 8px;">
                                    <i class="fa fa-arrow-left me-2"></i>Back to Home
                                </button>
                            </a>
                        </div>
                    </div>

                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">
                                                <i class="fa fa-clock-o me-2"></i>Attendance Records
                                            </h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                View your check-in and check-out records
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <i class="fa fa-clock-o" style="font-size: 80px; opacity: 0.3;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Success/Error Messages -->
                    <t t-if="request.params.get('checked_in') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-check-circle me-2"></i>Successfully checked in!
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('checked_out') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-success alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-check-circle me-2"></i>Successfully checked out!
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('error') == '1'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-exclamation-circle me-2"></i>An error occurred while processing your request.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('error') == '2'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-exclamation-triangle me-2"></i>You are already checked in. Please check out first.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>
                    <t t-if="request.params.get('error') == '3'">
                        <div class="row mb-3">
                            <div class="col-12">
                                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="border-radius: 8px;">
                                    <i class="fa fa-exclamation-triangle me-2"></i>You are not checked in. Please check in first.
                                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                </div>
                            </div>
                        </div>
                    </t>

                    <!-- Check In/Out Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4">
                                    <div class="row align-items-center">
                                        <div class="col-md-8">
                                            <h4 class="mb-2" style="color: #333; font-weight: 600;">
                                                <i class="fa fa-clock-o text-primary me-2"></i>Current Status
                                            </h4>
                                            <t t-if="current_attendance">
                                                <p class="mb-0 text-muted">
                                                    <i class="fa fa-check-circle text-success me-2"></i>
                                                    Checked in since: <strong><t t-esc="current_attendance.check_in"/></strong>
                                                </p>
                                            </t>
                                            <t t-else="">
                                                <p class="mb-0 text-muted">
                                                    <i class="fa fa-times-circle text-danger me-2"></i>
                                                    Currently not checked in
                                                </p>
                                            </t>
                                        </div>
                                        <div class="col-md-4 text-end">
                                            <t t-if="current_attendance">
                                                <form method="post" action="/my/employee-portal/attendance/check-out" style="display: inline;">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                    <button type="submit" class="btn btn-danger btn-lg" style="border-radius: 8px; padding: 0.75rem 2rem;">
                                                        <i class="fa fa-sign-out me-2"></i>Check Out
                                                    </button>
                                                </form>
                                            </t>
                                            <t t-else="">
                                                <form method="post" action="/my/employee-portal/attendance/check-in" style="display: inline;">
                                                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                                    <button type="submit" class="btn btn-success btn-lg" style="border-radius: 8px; padding: 0.75rem 2rem;">
                                                        <i class="fa fa-sign-in me-2"></i>Check In
                                                    </button>
                                                </form>
                                            </t>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Attendance Records Table -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-header bg-white border-bottom" style="padding: 1.5rem;">
                                    <h4 class="mb-0" style="color: #333; font-weight: 600;">
                                        <i class="fa fa-list text-primary me-2"></i>My Attendance Records
                                    </h4>
                                </div>
                                <div class="card-body p-0">
                                    <t t-if="attendance_records">
                                        <div class="table-responsive">
                                            <table class="table table-hover mb-0">
                                                <thead style="background-color: #f8f9fa;">
                                                    <tr>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Date</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Check In</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Check Out</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Worked Hours</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="attendance_records" t-as="attendance">
                                                        <tr style="border-bottom: 1px solid #e9ecef;">
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="rounded-circle bg-info bg-opacity-10 d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                                                        <i class="fa fa-calendar text-info"></i>
                                                                    </div>
                                                                    <div>
                                                                        <strong style="color: #333;">
                                                                            <t t-if="attendance.check_in">
                                                                                <t t-esc="attendance.check_in"/>
                                                                            </t>
                                                                            <t t-else="">N/A</t>
                                                                        </strong>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span style="color: #333; font-weight: 500;">
                                                                    <t t-if="attendance.check_in">
                                                                        <t t-esc="attendance.check_in"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span style="color: #333; font-weight: 500;">
                                                                    <t t-if="attendance.check_out">
                                                                        <t t-esc="attendance.check_out"/>
                                                                    </t>
                                                                    <t t-else="">
                                                                        <span class="badge bg-warning" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Still Checked In</span>
                                                                    </t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <t t-if="attendance.worked_hours">
                                                                    <span class="badge bg-success" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
                                                                        <t t-esc="str(round(attendance.worked_hours, 2)) + ' hours'"/>
                                                                    </span>
                                                                </t>
                                                                <t t-else="">
                                                                    <span class="text-muted">-</span>
                                                                </t>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </tbody>
                                            </table>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="text-center p-5">
                                            <i class="fa fa-clock-o" style="font-size: 60px; color: #ccc; margin-bottom: 1rem;"></i>
                                            <p class="text-muted mb-0" style="font-size: 1.1rem;">No attendance records found</p>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <style>
                    .table tbody tr:hover {
                        background-color: #f8f9fa;
                        transition: background-color 0.2s ease;
                    }
                </style>
            </t>
        </template>

        <!-- Employee Payroll Page Template -->
        <template id="employee_portal_payroll" name="Employee Portal Payroll">
            <t t-call="portal.portal_layout">
                <t t-set="my_details" t-value="True"/>
                <style>
                    /* Hide portal header and all website navigation menus */
                    .o_portal_wrap header,
                    .o_portal_wrap .navbar,
                    .o_portal_wrap .o_portal_navbar,
                    .o_portal_wrap .o_portal_header,
                    header.o_main_header,
                    .o_portal_wrap .o_portal_chatter_header,
                    .navbar,
                    .navbar-nav,
                    .o_main_navbar,
                    .o_main_header,
                    header,
                    nav,
                    .o_website_navbar,
                    .o_menu_header,
                    .o_menu_systray,
                    .navbar-brand,
                    .navbar-toggler,
                    .navbar-collapse,
                    .dropdown,
                    .dropdown-menu,
                    .dropdown-item,
                    .dropdown-toggle {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide nav elements except profile tabs */
                    .nav:not(#profileTabs):not(.card-body .nav),
                    .nav-item:not(#profileTabs .nav-item):not(.card-body .nav-item),
                    .nav-link:not(#profileTabs .nav-link):not(.card-body .nav-link) {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Show tabs in profile page - exception for profile tabs */
                    #profileTabs,
                    #profileTabs .nav,
                    #profileTabs .nav-item,
                    #profileTabs .nav-link,
                    .card-body .nav,
                    .card-body .nav-item,
                    .card-body .nav-link {
                        display: block !important;
                        visibility: visible !important;
                        opacity: 1 !important;
                        height: auto !important;
                        width: auto !important;
                        margin: initial !important;
                        padding: initial !important;
                        overflow: visible !important;
                    }
                    /* Adjust content margin when header is hidden */
                    .o_portal_wrap .container,
                    .container {
                        margin-top: 0 !important;
                        padding-top: 2rem !important;
                    }
                    /* Hide body padding/margin that might be added for navbar */
                    body {
                        padding-top: 0 !important;
                        margin-top: 0 !important;
                    }
                    /* Hide footer and bottom sections */
                    footer,
                    .footer,
                    .o_footer,
                    .o_website_footer,
                    .website_footer,
                    #footer,
                    footer#footer,
                    .o_portal_wrap footer,
                    .o_portal_wrap .footer,
                    .o_portal_wrap .o_footer,
                    .o_portal_wrap .o_website_footer,
                    .o_portal_wrap .website_footer,
                    .o_portal_wrap #footer,
                    .oe_structure.oe_footer,
                    .o_footer_copyright,
                    .o_footer_copyright_name,
                    .js_footer,
                    .footer-copyright,
                    .copyright {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                    /* Hide user profile summary section (right sidebar with avatar and edit info) */
                    .o_portal_wrap .o_portal_details,
                    .o_portal_wrap .o_portal_sidebar {
                        display: none !important;
                        visibility: hidden !important;
                        opacity: 0 !important;
                        height: 0 !important;
                        width: 0 !important;
                        margin: 0 !important;
                        padding: 0 !important;
                        overflow: hidden !important;
                    }
                </style>
                <script>
                    <![CDATA[
                    // Hide "My account" text and user profile summary section
                    document.addEventListener('DOMContentLoaded', function() {
                        // Hide "My account" text
                        var elements = document.querySelectorAll('.o_portal_wrap h1, .o_portal_wrap h2, .o_portal_wrap h3, .o_portal_wrap .o_portal_wrap h1, .o_portal_wrap .o_portal_wrap h2');
                        elements.forEach(function(el) {
                            var text = el.textContent.trim();
                            if (text === 'My account' || text === 'My Account') {
                                el.style.display = 'none';
                                el.style.visibility = 'hidden';
                                el.style.height = '0';
                                el.style.margin = '0';
                                el.style.padding = '0';
                            }
                        });
                        
                        // Hide user profile summary section (avatar + username + edit info)
                        var profileDetails = document.querySelectorAll('.o_portal_details, .o_portal_sidebar');
                        profileDetails.forEach(function(element) {
                            element.style.display = 'none';
                            element.style.visibility = 'hidden';
                        });
                        
                        // Find and hide parent columns that contain ONLY profile details
                        var allCols = document.querySelectorAll('.o_portal_wrap .row > div[class*="col-"]');
                        allCols.forEach(function(col) {
                            var hasProfileDetails = col.querySelector('.o_portal_details, .o_portal_sidebar, .o_avatar');
                            var hasEditInfo = col.textContent.includes('Edit information');
                            
                            if (hasProfileDetails || hasEditInfo) {
                                // Check if column has other meaningful content
                                var hasOtherContent = false;
                                var children = col.children;
                                for (var i = 0; i < children.length; i++) {
                                    var child = children[i];
                                    if (!child.classList.contains('o_portal_details') && 
                                        !child.classList.contains('o_portal_sidebar')) {
                                        var text = child.textContent.trim();
                                        // If there's other content (not just profile details), keep the column
                                        if (text && !text.includes('Edit information') && text.length > 10) {
                                            hasOtherContent = true;
                                            break;
                                        }
                                    }
                                }
                                
                                // Only hide if it contains profile details and nothing else meaningful
                                if (!hasOtherContent) {
                                    col.style.display = 'none';
                                    col.style.visibility = 'hidden';
                                }
                            }
                        });
                    });
                    ]]>
                </script>
                <div class="container mt-4 mb-4">
                    <!-- Back Button -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <a href="/my/employee-portal" class="text-decoration-none">
                                <button class="btn btn-light border" style="border-radius: 8px;">
                                    <i class="fa fa-arrow-left me-2"></i>Back to Home
                                </button>
                            </a>
                        </div>
                    </div>

                    <!-- Welcome Section -->
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-body p-4" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 10px;">
                                    <div class="row align-items-center">
                                        <div class="col-md-8 text-white">
                                            <h2 class="mb-2" style="font-weight: 600;">
                                                <i class="fa fa-money me-2"></i>Payroll &amp; Payslips
                                            </h2>
                                            <p class="mb-0" style="font-size: 1.1rem; opacity: 0.9;">
                                                View your payslips and salary information
                                            </p>
                                        </div>
                                        <div class="col-md-4 text-center">
                                            <i class="fa fa-money" style="font-size: 80px; opacity: 0.3;"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Payslips Table -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card shadow-sm border-0">
                                <div class="card-header bg-white border-bottom" style="padding: 1.5rem;">
                                    <h4 class="mb-0" style="color: #333; font-weight: 600;">
                                        <i class="fa fa-list text-primary me-2"></i>My Payslips
                                    </h4>
                                </div>
                                <div class="card-body p-0">
                                    <t t-if="payslips and len(payslips) > 0">
                                        <div class="table-responsive">
                                            <table class="table table-hover mb-0">
                                                <thead style="background-color: #f8f9fa;">
                                                    <tr>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Payslip Name</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Creation Date</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Period</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Basic Salary</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Gross Salary</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Deduction</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Net Salary</th>
                                                        <th style="padding: 1rem; font-weight: 600; color: #333;">Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <t t-foreach="payslips_with_foreign" t-as="payslip_data">
                                                        <t t-set="payslip" t-value="payslip_data['payslip']"/>
                                                        <t t-set="foreign_amounts" t-value="payslip_data.get('foreign_amounts', {})"/>
                                                        <t t-set="conversion_rate" t-value="payslip_data.get('conversion_rate', 0)"/>
                                                        <t t-if="foreign_currency_available and foreign_amounts and conversion_rate and conversion_rate != 0">
                                                            <tr style="background-color: #fff3cd;">
                                                                <td colspan="2" style="padding: 0.5rem 1rem; font-weight: 600; color: #856404; font-size: 0.85rem; text-align: center;">
                                                                    <i class="fa fa-exchange me-1"></i>Exchange Rate: 1 <t t-esc="currency_symbol or ''"/> = <t t-esc="'{:.4f}'.format(conversion_rate)"/> <t t-esc="foreign_currency_symbol"/>
                                                                </td>
                                                                <td colspan="5" style="padding: 0.5rem 1rem; font-weight: 600; color: #856404; font-size: 0.85rem; text-align: center;">
                                                                    <i class="fa fa-info-circle me-1"></i>Values shown in <strong><t t-esc="foreign_currency_symbol"/></strong> (<t t-esc="foreign_currency.name if foreign_currency else ''"/>) below original amounts
                                                                </td>
                                                            </tr>
                                                        </t>
                                                        <tr style="border-bottom: 1px solid #e9ecef;">
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div class="d-flex align-items-center">
                                                                    <div class="rounded-circle bg-success bg-opacity-10 d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                                                        <i class="fa fa-file-text-o text-success"></i>
                                                                    </div>
                                                                    <div>
                                                                        <strong style="color: #333;"><t t-esc="payslip.name or 'N/A'"/></strong>
                                                                    </div>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div>
                                                                    <i class="fa fa-calendar text-primary me-2"></i>
                                                                    <span style="color: #333; font-weight: 500;">
                                                                        <t t-if="payslip.create_date">
                                                                            <t t-set="create_date_str" t-value="str(payslip.create_date)"/>
                                                                            <t t-esc="create_date_str.split(' ')[0] if ' ' in create_date_str else create_date_str"/>
                                                                        </t>
                                                                        <t t-else="">N/A</t>
                                                                    </span>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <span style="color: #333; font-weight: 500;">
                                                                    <t t-if="payslip.date_from and payslip.date_to">
                                                                        <t t-esc="payslip.date_from"/> - <t t-esc="payslip.date_to"/>
                                                                    </t>
                                                                    <t t-else="">N/A</t>
                                                                </span>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div>
                                                                    <span style="color: #333; font-weight: 500;">
                                                                        <t t-if="payslip.line_ids">
                                                                            <t t-set="basic_line" t-value="payslip.line_ids.filtered(lambda l: l.code == 'BASIC')[:1]"/>
                                                                            <t t-if="basic_line and basic_line.total">
                                                                                <t t-esc="currency_symbol or ''"/><t t-esc="'{:.2f}'.format(basic_line.total)"/>
                                                                            </t>
                                                                            <t t-else="">N/A</t>
                                                                        </t>
                                                                        <t t-else="">N/A</t>
                                                                    </span>
                                                                    <t t-if="foreign_currency_available and foreign_amounts and foreign_amounts.get('basic')">
                                                                        <br/>
                                                                        <small style="color: #856404; font-weight: 600;">
                                                                            <i class="fa fa-exchange me-1"></i><t t-esc="foreign_currency_symbol"/><t t-esc="'{:.2f}'.format(foreign_amounts['basic'])"/>
                                                                        </small>
                                                                    </t>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div>
                                                                    <span style="color: #333; font-weight: 500;">
                                                                        <t t-if="payslip.line_ids">
                                                                            <t t-set="gross_line" t-value="payslip.line_ids.filtered(lambda l: l.code == 'GROSS')[:1]"/>
                                                                            <t t-if="gross_line and gross_line.total">
                                                                                <t t-esc="currency_symbol or ''"/><t t-esc="'{:.2f}'.format(gross_line.total)"/>
                                                                            </t>
                                                                            <t t-else="">N/A</t>
                                                                        </t>
                                                                        <t t-else="">N/A</t>
                                                                    </span>
                                                                    <t t-if="foreign_currency_available and foreign_amounts and foreign_amounts.get('gross')">
                                                                        <br/>
                                                                        <small style="color: #856404; font-weight: 600;">
                                                                            <i class="fa fa-exchange me-1"></i><t t-esc="foreign_currency_symbol"/><t t-esc="'{:.2f}'.format(foreign_amounts['gross'])"/>
                                                                        </small>
                                                                    </t>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div>
                                                                    <span style="color: #d32f2f; font-weight: 500;">
                                                                        <t t-if="payslip.line_ids">
                                                                            <t t-set="gross_line" t-value="payslip.line_ids.filtered(lambda l: l.code == 'GROSS')[:1]"/>
                                                                            <t t-set="net_line" t-value="payslip.line_ids.filtered(lambda l: l.code == 'NET')[:1]"/>
                                                                            <t t-if="gross_line and gross_line.total and net_line and net_line.total">
                                                                                <t t-set="deduction" t-value="gross_line.total - net_line.total"/>
                                                                                <t t-esc="currency_symbol or ''"/><t t-esc="'{:.2f}'.format(deduction)"/>
                                                                            </t>
                                                                            <t t-else="">0.00</t>
                                                                        </t>
                                                                        <t t-else="">0.00</t>
                                                                    </span>
                                                                    <t t-if="foreign_currency_available and foreign_amounts and foreign_amounts.get('deduction')">
                                                                        <br/>
                                                                        <small style="color: #d32f2f; font-weight: 600;">
                                                                            <i class="fa fa-exchange me-1"></i><t t-esc="foreign_currency_symbol"/><t t-esc="'{:.2f}'.format(foreign_amounts['deduction'])"/>
                                                                        </small>
                                                                    </t>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <div>
                                                                    <span class="badge bg-success" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
                                                                        <t t-if="payslip.line_ids">
                                                                            <t t-set="net_line" t-value="payslip.line_ids.filtered(lambda l: l.code == 'NET')[:1]"/>
                                                                            <t t-if="net_line and net_line.total">
                                                                                <t t-esc="currency_symbol or ''"/><t t-esc="'{:.2f}'.format(net_line.total)"/>
                                                                            </t>
                                                                            <t t-else="">N/A</t>
                                                                        </t>
                                                                        <t t-else="">N/A</t>
                                                                    </span>
                                                                    <t t-if="foreign_currency_available and foreign_amounts and foreign_amounts.get('net')">
                                                                        <br/>
                                                                        <small class="badge" style="background-color: #856404; color: white; font-size: 0.8rem; padding: 0.3rem 0.6rem; margin-top: 0.3rem; display: inline-block;">
                                                                            <i class="fa fa-exchange me-1"></i><t t-esc="foreign_currency_symbol"/><t t-esc="'{:.2f}'.format(foreign_amounts['net'])"/>
                                                                        </small>
                                                                    </t>
                                                                </div>
                                                            </td>
                                                            <td style="padding: 1rem; vertical-align: middle;">
                                                                <t t-if="payslip.state == 'draft'">
                                                                    <span class="badge bg-secondary" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Draft</span>
                                                                </t>
                                                                <t t-elif="payslip.state == 'verify'">
                                                                    <span class="badge bg-warning" style="font-size: 0.9rem; padding: 0.5rem 1rem;">To Verify</span>
                                                                </t>
                                                                <t t-elif="payslip.state == 'done'">
                                                                    <span class="badge bg-success" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Done</span>
                                                                </t>
                                                                <t t-elif="payslip.state == 'paid'">
                                                                    <span class="badge bg-info" style="font-size: 0.9rem; padding: 0.5rem 1rem;">Paid</span>
                                                                </t>
                                                                <t t-else="">
                                                                    <span class="badge bg-secondary" style="font-size: 0.9rem; padding: 0.5rem 1rem;">
                                                                        <t t-esc="payslip.state or 'N/A'"/>
                                                                    </span>
                                                                </t>
                                                            </td>
                                                        </tr>
                                                    </t>
                                                </tbody>
                                            </table>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div class="text-center p-5">
                                            <i class="fa fa-file-text-o" style="font-size: 60px; color: #ccc; margin-bottom: 1rem;"></i>
                                            <p class="text-muted mb-0" style="font-size: 1.1rem;">No payslips found</p>
                                        </div>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <style>
                    .table tbody tr:hover {
                        background-color: #f8f9fa;
                        transition: background-color 0.2s ease;
                    }
                </style>
            </t>
        </template>
    </data>
</odoo>

